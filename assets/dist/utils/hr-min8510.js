function closeAllSelect(e){var t,n,a,s=[];for(t=document.getElementsByClassName("select-items"),n=document.getElementsByClassName("select-selected"),a=0;a<n.length;a++)e==n[a]?s.push(a):n[a].classList.remove("select-arrow-active");for(a=0;a<t.length;a++)s.indexOf(a)&&t[a].classList.add("select-hide")}$(document).ready(function(){$.ajax({url:"/json/get_countries",type:"get",dataType:"JSON",success:function(e){for(var t=e.length,n=0;n<t;n++){var a=e[n].id,s=e[n].sortname,i=e[n].name,r="<option data-id="+a+" data-sortname="+s+">"+i+"</option>";$("#country").append(r)}}}),$(document).on("change","#country",function(){var e=$(this).find(":selected").attr("data-id");$("#country option").attr("selected",!1),$('#country option[data-id="'+e+'"]').attr("selected","selected"),$("#states").find("option").remove(),$.ajax({url:"/json/get_states/"+e,type:"get",dataType:"JSON",success:function(e){for(var t=e.length,n=0;n<t;n++){var a=e[n].id,s=e[n].name,i="<option data-id="+a+" data-name="+s+">"+s+"</option>";$("#states").append(i)}}})}),$(document).on("change","#states",function(){var e=$(this).find(":selected").attr("data-id");$("#states option").attr("selected",!1),$('#states option[data-id="'+e+'"]').attr("selected","selected"),$("#cities").find("option").remove(),$.ajax({url:"/json/get_cities/"+e,type:"get",dataType:"JSON",success:function(e){for(var t=e.length,n=0;n<t;n++){var a=e[n].id,s=e[n].name,i=e[n].state_id,r="<option data-id="+a+" data-name="+s+" data-state="+i+">"+s+"</option>";$("#cities").append(r)}}})}),$(document).on("change","#cities",function(){var e=$(this).find(":selected").attr("data-id");$("#cities option").attr("selected",!1),$('#cities option[data-id="'+e+'"]').attr("selected","selected")}),$("#registrationForm").validate({ignore:[],rules:{first_name:"required",last_name:"required",email:{required:!0,email:!0},mobile_phone:{required:!0,digits:!0},password:{required:!0,minlength:5},password_again:{required:!0,minlength:5,equalTo:"#password"},country:"required",state:"required",file:"required"},messages:{first_name:"Please enter your firstname",last_name:"Please enter your surname",email:"Please enter a valid email address",mobile_phone:{required:"Please enter your phone",digits:"Please enter only numbers"},password:"Please enter your password",password_again:"Please enter your password (again)",file:"Please upload your CV",country:"Please enter your country",state:"Please enter your city"}})}),function(e,t,n){var a=e.querySelectorAll(".inputfile");Array.prototype.forEach.call(a,function(e){var t=e.nextElementSibling,n=t.innerHTML;e.addEventListener("change",function(e){var a="";a=this.files&&this.files.length>1?(this.getAttribute("data-multiple-caption")||"").replace("{count}",this.files.length):e.target.value.split("\\").pop(),a?$(".input-file-container span").text(a):t.innerHTML=n}),e.addEventListener("focus",function(){e.classList.add("has-focus")}),e.addEventListener("blur",function(){e.classList.remove("has-focus")})})}(document,window,0);var x,i,j,selElmnt,a,b,c;for(x=document.getElementsByClassName("custom-select"),i=0;i<x.length;i++){for(selElmnt=x[i].getElementsByTagName("select")[0],a=document.createElement("DIV"),a.setAttribute("class","select-selected"),a.innerHTML=selElmnt.options[selElmnt.selectedIndex].innerHTML,x[i].appendChild(a),b=document.createElement("DIV"),b.setAttribute("class","select-items select-hide"),j=1;j<selElmnt.length;j++)c=document.createElement("DIV"),c.innerHTML=selElmnt.options[j].innerHTML,c.addEventListener("click",function(e){var t,n,a;for(n=this.parentNode.parentNode.getElementsByTagName("select")[0],a=this.parentNode.previousSibling,t=0;t<n.length;t++)if(n.options[t].innerHTML==this.innerHTML){n.selectedIndex=t,a.innerHTML=this.innerHTML;break}a.click()}),b.appendChild(c);x[i].appendChild(b),a.addEventListener("click",function(e){e.stopPropagation(),closeAllSelect(this),this.nextSibling.classList.toggle("select-hide"),this.classList.toggle("select-arrow-active")})}document.addEventListener("click",closeAllSelect);